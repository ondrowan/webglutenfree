{"version":3,"file":"glutenfree.es.js","sources":["../build/assert.js","../build/target.js","../build/device.js","../build/glutil.js","../build/command.js","../build/vertex-buffer.js","../build/array.js","../build/element-buffer.js","../build/attribute-data.js","../build/texture.js","../build/framebuffer.js"],"sourcesContent":["/**\n * This file is an exercise in proprocessor voodoo.\n *\n * \"process.env.NODE_ENV\", gets suplied by the string replacer during a\n * custom build or our production build. If \"production\", constant evaluation\n * will eliminate the if blocks, making the functions no-ops, in turn eligible\n * for elimination from their callsites.\n *\n * While cool, this disables us to return values from the asserts, which would\n * make for a slightly nice programming model: const checkedVal = truthy(val)\n */\n// This does not get replaced and serves as a default velue. If all its uses\n// are eliminated, the value itself is pruned as well.\nconst process = {\n    env: {\n        NODE_ENV: \"development\",\n    },\n};\nexport function nonNull(p, name, msg) {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (typeof p === \"undefined\" || typeof p === \"object\" && !p) {\n            throw new Error(msg || fmt(`object ${name || \"\"} ${p}`));\n        }\n    }\n}\nexport function nonEmpty(p, name, msg) {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (!p || !p.length) {\n            throw new Error(msg || fmt(`array ${name || \"\"} empty`));\n        }\n    }\n}\nexport function equal(p, val, name, msg) {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (p !== val) {\n            throw new Error(msg || fmt(`${name || \"\"} values not equal: ${p} ${val}`));\n        }\n    }\n}\nexport function range(p, start, end, name, msg) {\n    if (process.env.NODE_ENV !== \"production\") {\n        if (p < start || p > end) {\n            throw new Error(msg || fmt(`${name || \"\"} value ${p} not in [${start}, ${end}]`));\n        }\n    }\n}\nexport function never(p, msg) {\n    // \"never\" can not be eliminated, as its \"return value\" is actually captured\n    // at the callsites. It should never be invoked, though.\n    throw new Error(msg || fmt(`Unexpected object: ${p}`));\n}\nfunction fmt(msg) {\n    return `Assertion Failed: ${msg}`;\n}\n//# sourceMappingURL=assert.js.map","import * as assert from \"./assert\";\n// This stores a render target stack for each WebGL context. WeakMap is used\n// to prevent memory leaks\nconst CONTEXT_TARGETS = new WeakMap();\n/**\n * Target represents a drawable surface. Get hold of targets with\n * `device.target()` or `framebuffer.target()`.\n *\n * Targets provide methods for drawing to a surface, or clearing its values.\n */\nexport class Target {\n    constructor(gl, glDrawBuffers, glFramebuffer, width, height) {\n        this.gl = gl;\n        this.glDrawBuffers = glDrawBuffers;\n        this.glFramebuffer = glFramebuffer;\n        this.width = width;\n        this.height = height;\n    }\n    /**\n     * Run the callback with the target bound. This is called automatically,\n     * when obtaining a target via `device.target()` or `framebuffer.target()`.\n     */\n    with(cb) {\n        // Get our stack, or create it if needed\n        let stack = CONTEXT_TARGETS.get(this.gl);\n        if (typeof stack === \"undefined\") {\n            stack = [];\n            CONTEXT_TARGETS.set(this.gl, stack);\n        }\n        if (stack.length && stack[stack.length - 1] === this) {\n            // No need to grow the stack and do rebinding if just this target\n            // is nested\n            cb(this);\n        }\n        else {\n            this.bind();\n            stack.push(this);\n            cb(this);\n            stack.pop();\n            if (stack.length) {\n                // If there is no target, there is no need to bind it\n                stack[length - 1].bind();\n            }\n        }\n    }\n    /**\n     * Clear the color buffer to provided color.\n     */\n    clearColor(r, g, b, a) {\n        const gl = this.gl;\n        gl.clearColor(r, g, b, a);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    /**\n     * Clear the depth buffer to provided depth.\n     */\n    clearDepth(depth) {\n        const gl = this.gl;\n        gl.clearDepth(depth);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n    }\n    /**\n     * Clear the stencil buffer to provided stencil.\n     */\n    clearStencil(stencil) {\n        const gl = this.gl;\n        gl.clearStencil(stencil);\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n    }\n    /**\n     * Clear the color buffers and depth buffer to provided color and depth.\n     *\n     * This is equivalent to but more efficient than:\n     *   device.clearColor()\n     *   device.clearDepth()\n     */\n    clearColorAndDepth(r, g, b, a, depth) {\n        const gl = this.gl;\n        gl.clearColor(r, g, b, a);\n        gl.clearDepth(depth);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    }\n    /**\n     * Clear the depth buffer and stencil buffer to provided depth and stencil.\n     *\n     * This is equivalent to but more efficient than:\n     *   device.clearDepth()\n     *   device.clearStencil()\n     */\n    clearDepthAndStencil(depth, stencil) {\n        const gl = this.gl;\n        gl.clearDepth(depth);\n        gl.clearStencil(stencil);\n        gl.clear(gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\n    }\n    /**\n     * Clear the color buffers and stencil buffer to provided color and stencil.\n     *\n     * This is equivalent to but more efficient than:\n     *   device.clearColor()\n     *   device.clearStencil()\n     */\n    clearColorAndStencil(r, g, b, a, stencil) {\n        const gl = this.gl;\n        gl.clearColor(r, g, b, a);\n        gl.clearStencil(stencil);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\n    }\n    /**\n     * Clear the color buffers, depth buffer and stencil buffer to provided\n     * color, depth and stencil.\n     *\n     * This is equivalent to but more efficient than:\n     *   device.clearColor()\n     *   device.clearDepth()\n     *   device.clearStencil()\n     */\n    clear(r, g, b, a, depth, stencil) {\n        const gl = this.gl;\n        gl.clearColor(r, g, b, a);\n        gl.clearDepth(depth);\n        gl.clearStencil(stencil);\n        gl.clear(gl.COLOR_BUFFER_BIT\n            | gl.DEPTH_BUFFER_BIT\n            | gl.STENCIL_BUFFER_BIT);\n    }\n    /**\n     * Draw to the target with a command, geometry, and command properties.\n     */\n    draw(cmd, geometry, props) {\n        const gl = this.gl;\n        const { glProgram, depthDescr, stencilDescr, blendDescr, uniformDescrs, } = cmd;\n        gl.useProgram(glProgram);\n        this.beginDepth(depthDescr);\n        this.beginStencil(stencilDescr);\n        this.beginBlend(blendDescr);\n        this.updateUniforms(uniformDescrs, props, 0);\n        if (geometry.isEmpty()) {\n            gl.drawArrays(geometry.primitive, 0 /* offset */, geometry.count);\n        }\n        else {\n            gl.bindVertexArray(geometry.glVertexArray);\n            if (geometry.elements) {\n                this.drawElements(geometry.primitive, geometry.elementCount, geometry.elementType, 0, // offset\n                geometry.instanceCount);\n            }\n            else {\n                this.drawArrays(geometry.primitive, geometry.count, 0, // offset\n                geometry.instanceCount);\n            }\n            gl.bindVertexArray(null);\n        }\n        this.endBlend(blendDescr);\n        this.endStencil(stencilDescr);\n        this.endDepth(depthDescr);\n        gl.useProgram(null);\n    }\n    /**\n     * Perform multiple draws to the target with the same command, but multiple\n     * geometries and command properties.\n     */\n    batch(cmd, cb) {\n        const gl = this.gl;\n        const { glProgram, depthDescr, stencilDescr, blendDescr, uniformDescrs, } = cmd;\n        // When batching (passing in an array of props), the price for\n        // gl.useProgram, binding framebuffers, enabling depth/stencil tests and\n        // blending is paid only once for all draw calls.\n        gl.useProgram(glProgram);\n        this.beginDepth(depthDescr);\n        this.beginStencil(stencilDescr);\n        this.beginBlend(blendDescr);\n        let iter = 0;\n        let currVao = null;\n        cb((geometry, props) => {\n            this.updateUniforms(uniformDescrs, props, iter++);\n            if (geometry.isEmpty()) {\n                if (currVao) {\n                    gl.bindVertexArray(null);\n                    currVao = null;\n                }\n                gl.drawArrays(geometry.primitive, 0 /* offset */, geometry.count);\n            }\n            else {\n                if (geometry !== currVao) {\n                    gl.bindVertexArray(geometry.glVertexArray);\n                    currVao = geometry;\n                }\n                if (geometry.elements) {\n                    this.drawElements(geometry.primitive, geometry.elementCount, geometry.elementType, 0, // offset\n                    geometry.instanceCount);\n                }\n                else {\n                    this.drawArrays(geometry.primitive, geometry.count, 0, // offset\n                    geometry.instanceCount);\n                }\n            }\n        });\n        // If some vaos were bound\n        if (currVao) {\n            gl.bindVertexArray(null);\n        }\n        this.endBlend(blendDescr);\n        this.endStencil(stencilDescr);\n        this.endDepth(depthDescr);\n        gl.useProgram(null);\n    }\n    bind() {\n        const { gl, glFramebuffer, glDrawBuffers, width, height } = this;\n        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, glFramebuffer || null);\n        gl.drawBuffers(glDrawBuffers);\n        gl.viewport(0, 0, width || gl.drawingBufferWidth, height || gl.drawingBufferHeight);\n    }\n    drawArrays(primitive, count, offset, instanceCount) {\n        if (instanceCount) {\n            this.gl.drawArraysInstanced(primitive, offset, count, instanceCount);\n        }\n        else {\n            this.gl.drawArrays(primitive, offset, count);\n        }\n    }\n    drawElements(primitive, count, type, offset, instCount) {\n        if (instCount) {\n            this.gl.drawElementsInstanced(primitive, count, type, offset, instCount);\n        }\n        else {\n            this.gl.drawElements(primitive, count, type, offset);\n        }\n    }\n    beginDepth(depthDescr) {\n        const gl = this.gl;\n        if (depthDescr) {\n            gl.enable(gl.DEPTH_TEST);\n            gl.depthFunc(depthDescr.func);\n            gl.depthMask(depthDescr.mask);\n            gl.depthRange(depthDescr.rangeStart, depthDescr.rangeEnd);\n        }\n    }\n    endDepth(depthDescr) {\n        const gl = this.gl;\n        if (depthDescr) {\n            gl.disable(gl.DEPTH_TEST);\n        }\n    }\n    beginStencil(stencilDescr) {\n        const gl = this.gl;\n        if (stencilDescr) {\n            const { fFunc, bFunc, fFuncRef, bfuncRef, fFuncMask, bFuncMask, fMask, bMask, fOpFail, bOpFail, fOpZFail, bOpZFail, fOpZPass, bOpZPass, } = stencilDescr;\n            gl.enable(gl.STENCIL_TEST);\n            gl.stencilFuncSeparate(gl.FRONT, fFunc, fFuncRef, fFuncMask);\n            gl.stencilFuncSeparate(gl.BACK, bFunc, bfuncRef, bFuncMask);\n            gl.stencilMaskSeparate(gl.FRONT, fMask);\n            gl.stencilMaskSeparate(gl.BACK, bMask);\n            gl.stencilOpSeparate(gl.FRONT, fOpFail, fOpZFail, fOpZPass);\n            gl.stencilOpSeparate(gl.BACK, bOpFail, bOpZFail, bOpZPass);\n        }\n    }\n    endStencil(stencilDescr) {\n        const gl = this.gl;\n        if (stencilDescr) {\n            gl.disable(gl.STENCIL_TEST);\n        }\n    }\n    beginBlend(blendDescr) {\n        const gl = this.gl;\n        if (blendDescr) {\n            gl.enable(gl.BLEND);\n            gl.blendFuncSeparate(blendDescr.srcRGB, blendDescr.dstRGB, blendDescr.srcAlpha, blendDescr.dstAlpha);\n            gl.blendEquationSeparate(blendDescr.equationRGB, blendDescr.equationAlpha);\n            if (blendDescr.color) {\n                const [r, g, b, a] = blendDescr.color;\n                gl.blendColor(r, g, b, a);\n            }\n        }\n    }\n    endBlend(blendDescr) {\n        const gl = this.gl;\n        if (blendDescr) {\n            gl.disable(gl.BLEND);\n        }\n    }\n    updateUniforms(uniformDescrs, props, index) {\n        const gl = this.gl;\n        let textureUnitOffset = 0;\n        uniformDescrs.forEach(({ identifier: ident, location: loc, definition: def, }) => {\n            switch (def.type) {\n                case \"1f\":\n                    gl.uniform1f(loc, access(props, index, def.value));\n                    break;\n                case \"1fv\":\n                    gl.uniform1fv(loc, access(props, index, def.value));\n                    break;\n                case \"1i\":\n                    gl.uniform1i(loc, access(props, index, def.value));\n                    break;\n                case \"1iv\":\n                    gl.uniform1iv(loc, access(props, index, def.value));\n                    break;\n                case \"1ui\":\n                    gl.uniform1ui(loc, access(props, index, def.value));\n                    break;\n                case \"1uiv\":\n                    gl.uniform1uiv(loc, access(props, index, def.value));\n                    break;\n                case \"2f\": {\n                    const [x, y] = access(props, index, def.value);\n                    gl.uniform2f(loc, x, y);\n                    break;\n                }\n                case \"2fv\":\n                    gl.uniform2fv(loc, access(props, index, def.value));\n                    break;\n                case \"2i\": {\n                    const [x, y] = access(props, index, def.value);\n                    gl.uniform2i(loc, x, y);\n                    break;\n                }\n                case \"2iv\":\n                    gl.uniform2iv(loc, access(props, index, def.value));\n                    break;\n                case \"2ui\": {\n                    const [x, y] = access(props, index, def.value);\n                    gl.uniform2ui(loc, x, y);\n                    break;\n                }\n                case \"2uiv\":\n                    gl.uniform2uiv(loc, access(props, index, def.value));\n                    break;\n                case \"3f\": {\n                    const [x, y, z] = access(props, index, def.value);\n                    gl.uniform3f(loc, x, y, z);\n                    break;\n                }\n                case \"3fv\":\n                    gl.uniform3fv(loc, access(props, index, def.value));\n                    break;\n                case \"3i\": {\n                    const [x, y, z] = access(props, index, def.value);\n                    gl.uniform3i(loc, x, y, z);\n                    break;\n                }\n                case \"3iv\":\n                    gl.uniform3iv(loc, access(props, index, def.value));\n                    break;\n                case \"3ui\": {\n                    const [x, y, z] = access(props, index, def.value);\n                    gl.uniform3ui(loc, x, y, z);\n                    break;\n                }\n                case \"3uiv\":\n                    gl.uniform3uiv(loc, access(props, index, def.value));\n                    break;\n                case \"4f\": {\n                    const [x, y, z, w] = access(props, index, def.value);\n                    gl.uniform4f(loc, x, y, z, w);\n                    break;\n                }\n                case \"4fv\":\n                    gl.uniform4fv(loc, access(props, index, def.value));\n                    break;\n                case \"4i\": {\n                    const [x, y, z, w] = access(props, index, def.value);\n                    gl.uniform4i(loc, x, y, z, w);\n                    break;\n                }\n                case \"4iv\":\n                    gl.uniform4iv(loc, access(props, index, def.value));\n                    break;\n                case \"4ui\": {\n                    const [x, y, z, w] = access(props, index, def.value);\n                    gl.uniform4ui(loc, x, y, z, w);\n                    break;\n                }\n                case \"4uiv\":\n                    gl.uniform4uiv(loc, access(props, index, def.value));\n                    break;\n                case \"matrix2fv\":\n                    gl.uniformMatrix2fv(loc, false, access(props, index, def.value));\n                    break;\n                case \"matrix3fv\":\n                    gl.uniformMatrix3fv(loc, false, access(props, index, def.value));\n                    break;\n                case \"matrix4fv\":\n                    gl.uniformMatrix4fv(loc, false, access(props, index, def.value));\n                    break;\n                case \"texture\":\n                    // TODO: is this the best way? (is it fast? can we cache?)\n                    const texture = access(props, index, def.value);\n                    const currentTexture = textureUnitOffset++;\n                    gl.activeTexture(gl.TEXTURE0 + currentTexture);\n                    gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\n                    gl.uniform1i(loc, currentTexture);\n                    break;\n                default:\n                    assert.never(def, `Unknown uniform type: (${ident})`);\n                    break;\n            }\n        });\n    }\n}\nfunction access(props, index, value) {\n    return typeof value === \"function\" ? value(props, index) : value;\n}\n//# sourceMappingURL=target.js.map","import { Target } from \"./target\";\n/**\n * Available extensions.\n */\nexport var Extension;\n(function (Extension) {\n    Extension[\"EXTColorBufferFloat\"] = \"EXT_color_buffer_float\";\n    Extension[\"OESTextureFloatLinear\"] = \"OES_texture_float_linear\";\n})(Extension || (Extension = {}));\nexport class Device {\n    /**\n     * Create a new canvas and device (containing a gl context). Mount it on\n     * `element` parameter (default is `document.body`).\n     */\n    static mount(element = document.body, options) {\n        if (element instanceof HTMLCanvasElement) {\n            return Device.fromCanvas(element, options);\n        }\n        const canvas = document.createElement(\"canvas\");\n        element.appendChild(canvas);\n        return Device.fromCanvas(canvas, options);\n    }\n    /**\n     * Create a new device (containing a gl context) from existing canvas.\n     */\n    static fromCanvas(canvas, options = {}) {\n        const { antialias = true, alpha = true, depth = true, stencil = true, preserveDrawingBuffer = false, } = options.context || {};\n        const gl = canvas.getContext(\"webgl2\", {\n            antialias,\n            alpha,\n            depth,\n            stencil,\n            preserveDrawingBuffer,\n        });\n        if (!gl) {\n            throw new Error(\"Could not get webgl2 context\");\n        }\n        return Device.fromContext(gl, options);\n    }\n    /**\n     * Create a new device from existing gl context.\n     */\n    static fromContext(gl, { pixelRatio, viewport, extensions, } = {}) {\n        if (extensions) {\n            extensions.forEach(ext => {\n                if (!gl.getExtension(ext)) {\n                    throw new Error(`Could not get extension ${ext}`);\n                }\n            });\n        }\n        const dev = new Device(gl, gl.canvas, pixelRatio, viewport);\n        dev.update();\n        return dev;\n    }\n    constructor(gl, canvas, explicitPixelRatio, explicitViewport) {\n        this.gl = gl;\n        this.canvas = canvas;\n        this.explicitPixelRatio = explicitPixelRatio;\n        this.explicitViewport = explicitViewport;\n        this.backbufferTarget = new Target(gl, [gl.BACK]);\n    }\n    /**\n     * Return width of the gl drawing buffer.\n     */\n    get bufferWidth() {\n        return this.gl.drawingBufferWidth;\n    }\n    /**\n     * Return height of the gl drawing buffer.\n     */\n    get bufferHeight() {\n        return this.gl.drawingBufferHeight;\n    }\n    /**\n     * Return width of the canvas. This will usually be the same as:\n     *   device.bufferWidth\n     */\n    get canvasWidth() {\n        return this.canvas.width;\n    }\n    /**\n     * Return height of the canvas. This will usually be the same as:\n     *   device.bufferHeight\n     */\n    get canvasHeight() {\n        return this.canvas.height;\n    }\n    /**\n     * Return width of canvas in CSS pixels (before applying device pixel ratio)\n     */\n    get canvasCSSWidth() {\n        return this.canvas.clientWidth;\n    }\n    /**\n     * Return height of canvas in CSS pixels (before applying device pixel ratio)\n     */\n    get canvasCSSHeight() {\n        return this.canvas.clientHeight;\n    }\n    /**\n     * Return the device pixel ratio for this device\n     */\n    get pixelRatio() {\n        return this.explicitPixelRatio || window.devicePixelRatio;\n    }\n    /**\n     * Notify the device to check whether updates are needed. This resizes the\n     * canvas, if the device pixel ratio or css canvas width/height changed.\n     */\n    update() {\n        const dpr = this.pixelRatio;\n        const canvas = this.canvas;\n        const width = this.explicitViewport\n            && this.explicitViewport[0]\n            || canvas.clientWidth * dpr;\n        const height = this.explicitViewport\n            && this.explicitViewport[1]\n            || canvas.clientHeight * dpr;\n        if (width !== canvas.width) {\n            canvas.width = width;\n        }\n        if (height !== canvas.height) {\n            canvas.height = height;\n        }\n    }\n    target(cb) {\n        this.backbufferTarget.with(cb);\n    }\n}\n//# sourceMappingURL=device.js.map","/*\n███████╗██╗  ██╗ █████╗ ██████╗ ███████╗██████╗\n██╔════╝██║  ██║██╔══██╗██╔══██╗██╔════╝██╔══██╗\n███████╗███████║███████║██║  ██║█████╗  ██████╔╝\n╚════██║██╔══██║██╔══██║██║  ██║██╔══╝  ██╔══██╗\n███████║██║  ██║██║  ██║██████╔╝███████╗██║  ██║\n╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═════╝ ╚══════╝╚═╝  ╚═╝\n*/\nexport function createProgram(gl, vertex, fragment) {\n    const program = gl.createProgram();\n    if (!program) {\n        throw new Error(\"Could not create Program\");\n    }\n    gl.attachShader(program, vertex);\n    gl.attachShader(program, fragment);\n    gl.linkProgram(program);\n    if (gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        return program;\n    }\n    const msg = gl.getProgramInfoLog(program);\n    gl.deleteProgram(program);\n    throw new Error(`Could not link shader program: ${msg}`);\n}\nexport function createShader(gl, type, source) {\n    const shader = gl.createShader(type);\n    if (!shader) {\n        throw new Error(\"Could not create Shader\");\n    }\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        return shader;\n    }\n    const msg = gl.getShaderInfoLog(shader);\n    gl.deleteShader(shader);\n    const prettySource = source\n        .split(\"\\n\")\n        .map((l, i) => `${i + 1}: ${l}`)\n        .join(\"\\n\");\n    throw new Error(`Could not compile shader:\\n${msg}\\n${prettySource}`);\n}\n//# sourceMappingURL=glutil.js.map","import * as assert from \"./assert\";\nimport * as glutil from \"./glutil\";\nimport { Device } from \"./device\";\nconst INT_PATTERN = /^0|[1-9]\\d*$/;\nconst UNKNOWN_ATTRIB_LOCATION = -1;\nexport var DepthFunc;\n(function (DepthFunc) {\n    DepthFunc[DepthFunc[\"ALWAYS\"] = 519] = \"ALWAYS\";\n    DepthFunc[DepthFunc[\"NEVER\"] = 512] = \"NEVER\";\n    DepthFunc[DepthFunc[\"EQUAL\"] = 514] = \"EQUAL\";\n    DepthFunc[DepthFunc[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n    DepthFunc[DepthFunc[\"LESS\"] = 513] = \"LESS\";\n    DepthFunc[DepthFunc[\"LEQUAL\"] = 515] = \"LEQUAL\";\n    DepthFunc[DepthFunc[\"GREATER\"] = 516] = \"GREATER\";\n    DepthFunc[DepthFunc[\"GEQUAL\"] = 518] = \"GEQUAL\";\n})(DepthFunc || (DepthFunc = {}));\nexport var StencilFunc;\n(function (StencilFunc) {\n    StencilFunc[StencilFunc[\"ALWAYS\"] = 519] = \"ALWAYS\";\n    StencilFunc[StencilFunc[\"NEVER\"] = 512] = \"NEVER\";\n    StencilFunc[StencilFunc[\"EQUAL\"] = 514] = \"EQUAL\";\n    StencilFunc[StencilFunc[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n    StencilFunc[StencilFunc[\"LESS\"] = 513] = \"LESS\";\n    StencilFunc[StencilFunc[\"LEQUAL\"] = 515] = \"LEQUAL\";\n    StencilFunc[StencilFunc[\"GREATER\"] = 516] = \"GREATER\";\n    StencilFunc[StencilFunc[\"GEQUAL\"] = 518] = \"GEQUAL\";\n})(StencilFunc || (StencilFunc = {}));\nexport var StencilOp;\n(function (StencilOp) {\n    StencilOp[StencilOp[\"KEEP\"] = 7680] = \"KEEP\";\n    StencilOp[StencilOp[\"ZERO\"] = 0] = \"ZERO\";\n    StencilOp[StencilOp[\"REPLACE\"] = 7681] = \"REPLACE\";\n    StencilOp[StencilOp[\"INCR\"] = 7682] = \"INCR\";\n    StencilOp[StencilOp[\"INCR_WRAP\"] = 34055] = \"INCR_WRAP\";\n    StencilOp[StencilOp[\"DECR\"] = 7683] = \"DECR\";\n    StencilOp[StencilOp[\"DECR_WRAP\"] = 34056] = \"DECR_WRAP\";\n    StencilOp[StencilOp[\"INVERT\"] = 5386] = \"INVERT\";\n})(StencilOp || (StencilOp = {}));\nexport var BlendFunc;\n(function (BlendFunc) {\n    BlendFunc[BlendFunc[\"ZERO\"] = 0] = \"ZERO\";\n    BlendFunc[BlendFunc[\"ONE\"] = 1] = \"ONE\";\n    BlendFunc[BlendFunc[\"SRC_COLOR\"] = 768] = \"SRC_COLOR\";\n    BlendFunc[BlendFunc[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n    BlendFunc[BlendFunc[\"ONE_MINUS_SRC_COLOR\"] = 769] = \"ONE_MINUS_SRC_COLOR\";\n    BlendFunc[BlendFunc[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n    BlendFunc[BlendFunc[\"DST_COLOR\"] = 774] = \"DST_COLOR\";\n    BlendFunc[BlendFunc[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n    BlendFunc[BlendFunc[\"ONE_MINUS_DST_COLOR\"] = 775] = \"ONE_MINUS_DST_COLOR\";\n    BlendFunc[BlendFunc[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n    BlendFunc[BlendFunc[\"CONSTANT_COLOR\"] = 32769] = \"CONSTANT_COLOR\";\n    BlendFunc[BlendFunc[\"CONSTANT_ALPHA\"] = 32771] = \"CONSTANT_ALPHA\";\n    BlendFunc[BlendFunc[\"ONE_MINUS_CONSTANT_COLOR\"] = 32770] = \"ONE_MINUS_CONSTANT_COLOR\";\n    BlendFunc[BlendFunc[\"ONE_MINUS_CONSTANT_ALPHA\"] = 32772] = \"ONE_MINUS_CONSTANT_ALPHA\";\n})(BlendFunc || (BlendFunc = {}));\nexport var BlendEquation;\n(function (BlendEquation) {\n    BlendEquation[BlendEquation[\"FUNC_ADD\"] = 32774] = \"FUNC_ADD\";\n    BlendEquation[BlendEquation[\"FUNC_SUBTRACT\"] = 32778] = \"FUNC_SUBTRACT\";\n    BlendEquation[BlendEquation[\"FUNC_REVERSE_SUBTRACT\"] = 32779] = \"FUNC_REVERSE_SUBTRACT\";\n    BlendEquation[BlendEquation[\"MIN\"] = 32775] = \"MIN\";\n    BlendEquation[BlendEquation[\"MAX\"] = 32776] = \"MAX\";\n})(BlendEquation || (BlendEquation = {}));\nexport class Command {\n    constructor(gl, glProgram, uniformDescrs, depthDescr, stencilDescr, blendDescr) {\n        this.gl = gl;\n        this.glProgram = glProgram;\n        this.uniformDescrs = uniformDescrs;\n        this.depthDescr = depthDescr;\n        this.stencilDescr = stencilDescr;\n        this.blendDescr = blendDescr;\n    }\n    static create(dev, vert, frag, { uniforms = {}, depth, stencil, blend, } = {}) {\n        assert.nonNull(vert, \"vert\");\n        assert.nonNull(frag, \"frag\");\n        if (depth) {\n            assert.nonNull(depth.func, \"depth.func\");\n        }\n        if (blend) {\n            assert.nonNull(blend.func, \"blend.func\");\n            assert.nonNull(blend.func.src, \"blend.func.src\");\n            assert.nonNull(blend.func.dst, \"blend.func.dst\");\n            if (typeof blend.func.src === \"object\") {\n                assert.nonNull(blend.func.src.rgb, \"blend.func.src.rgb\");\n                assert.nonNull(blend.func.src.alpha, \"blend.func.src.alpha\");\n            }\n            if (typeof blend.func.dst === \"object\") {\n                assert.nonNull(blend.func.dst.rgb, \"blend.func.dst.rgb\");\n                assert.nonNull(blend.func.dst.alpha, \"blend.func.dst.alpha\");\n            }\n        }\n        if (stencil) {\n            assert.nonNull(stencil.func, \"stencil.func\");\n            // TODO: complete stencil validation... validation framework?\n        }\n        const gl = dev instanceof Device ? dev.gl : dev;\n        const vs = glutil.createShader(gl, gl.VERTEX_SHADER, vert);\n        const fs = glutil.createShader(gl, gl.FRAGMENT_SHADER, frag);\n        const prog = glutil.createProgram(gl, vs, fs);\n        gl.deleteShader(vs);\n        gl.deleteShader(fs);\n        const uniformDescrs = Object.entries(uniforms)\n            .map(([ident, uniform]) => {\n            const loc = gl.getUniformLocation(prog, ident);\n            if (!loc) {\n                throw new Error(`No location for uniform: ${ident}`);\n            }\n            return new UniformDescriptor(ident, loc, uniform);\n        });\n        const depthDescr = parseDepth(depth);\n        const stencilDescr = parseStencil(stencil);\n        const blendDescr = parseBlend(blend);\n        return new Command(gl, prog, uniformDescrs, depthDescr, stencilDescr, blendDescr);\n    }\n    locate(attributes) {\n        return locate(this.gl, this.glProgram, attributes);\n    }\n}\nfunction locate(gl, glProgram, attributes) {\n    return Object.entries(attributes)\n        .reduce((accum, [identifier, definition]) => {\n        if (INT_PATTERN.test(identifier)) {\n            accum[identifier] = definition;\n        }\n        else {\n            const location = gl.getAttribLocation(glProgram, identifier);\n            if (location === UNKNOWN_ATTRIB_LOCATION) {\n                throw new Error(`No location for attrib: ${identifier}`);\n            }\n            accum[location] = definition;\n        }\n        return accum;\n    }, {});\n}\nexport class DepthDescriptor {\n    constructor(func, mask, rangeStart, rangeEnd) {\n        this.func = func;\n        this.mask = mask;\n        this.rangeStart = rangeStart;\n        this.rangeEnd = rangeEnd;\n    }\n}\nexport class StencilDescriptor {\n    constructor(fFunc, bFunc, fFuncRef, bfuncRef, fFuncMask, bFuncMask, fMask, bMask, fOpFail, bOpFail, fOpZFail, bOpZFail, fOpZPass, bOpZPass) {\n        this.fFunc = fFunc;\n        this.bFunc = bFunc;\n        this.fFuncRef = fFuncRef;\n        this.bfuncRef = bfuncRef;\n        this.fFuncMask = fFuncMask;\n        this.bFuncMask = bFuncMask;\n        this.fMask = fMask;\n        this.bMask = bMask;\n        this.fOpFail = fOpFail;\n        this.bOpFail = bOpFail;\n        this.fOpZFail = fOpZFail;\n        this.bOpZFail = bOpZFail;\n        this.fOpZPass = fOpZPass;\n        this.bOpZPass = bOpZPass;\n    }\n}\nexport class BlendDescriptor {\n    constructor(srcRGB, srcAlpha, dstRGB, dstAlpha, equationRGB, equationAlpha, color) {\n        this.srcRGB = srcRGB;\n        this.srcAlpha = srcAlpha;\n        this.dstRGB = dstRGB;\n        this.dstAlpha = dstAlpha;\n        this.equationRGB = equationRGB;\n        this.equationAlpha = equationAlpha;\n        this.color = color;\n    }\n}\nexport class UniformDescriptor {\n    constructor(identifier, location, definition) {\n        this.identifier = identifier;\n        this.location = location;\n        this.definition = definition;\n    }\n}\nfunction parseDepth(depth) {\n    if (!depth) {\n        return undefined;\n    }\n    return new DepthDescriptor(depth.func || DepthFunc.LESS, typeof depth.mask === \"boolean\" ? depth.mask : true, depth.range ? depth.range[0] : 0, depth.range ? depth.range[1] : 1);\n}\nfunction parseStencil(stencil) {\n    if (!stencil) {\n        return undefined;\n    }\n    return new StencilDescriptor(typeof stencil.func.func === \"object\"\n        ? stencil.func.func.front\n        : stencil.func.func, typeof stencil.func.func === \"object\"\n        ? stencil.func.func.back\n        : stencil.func.func, typeof stencil.func.ref !== \"undefined\"\n        ? typeof stencil.func.ref === \"object\"\n            ? stencil.func.ref.front\n            : stencil.func.ref\n        : 1, typeof stencil.func.ref !== \"undefined\"\n        ? typeof stencil.func.ref === \"object\"\n            ? stencil.func.ref.back\n            : stencil.func.ref\n        : 1, typeof stencil.func.mask !== \"undefined\"\n        ? typeof stencil.func.mask === \"object\"\n            ? stencil.func.mask.front\n            : stencil.func.mask\n        : 0xFF, typeof stencil.func.mask !== \"undefined\"\n        ? typeof stencil.func.mask === \"object\"\n            ? stencil.func.mask.back\n            : stencil.func.mask\n        : 0xFF, typeof stencil.mask !== \"undefined\"\n        ? typeof stencil.mask === \"object\"\n            ? stencil.mask.front\n            : stencil.mask\n        : 0xFF, typeof stencil.mask !== \"undefined\"\n        ? typeof stencil.mask === \"object\"\n            ? stencil.mask.back\n            : stencil.mask\n        : 0xFF, stencil.op\n        ? typeof stencil.op.fail === \"object\"\n            ? stencil.op.fail.front\n            : stencil.op.fail\n        : StencilOp.KEEP, stencil.op\n        ? typeof stencil.op.fail === \"object\"\n            ? stencil.op.fail.back\n            : stencil.op.fail\n        : StencilOp.KEEP, stencil.op\n        ? typeof stencil.op.zfail === \"object\"\n            ? stencil.op.zfail.front\n            : stencil.op.zfail\n        : StencilOp.KEEP, stencil.op\n        ? typeof stencil.op.zfail === \"object\"\n            ? stencil.op.zfail.back\n            : stencil.op.zfail\n        : StencilOp.KEEP, stencil.op\n        ? typeof stencil.op.zpass === \"object\"\n            ? stencil.op.zpass.front\n            : stencil.op.zpass\n        : StencilOp.KEEP, stencil.op\n        ? typeof stencil.op.zpass === \"object\"\n            ? stencil.op.zpass.back\n            : stencil.op.zpass\n        : StencilOp.KEEP);\n}\nfunction parseBlend(blend) {\n    if (!blend) {\n        return undefined;\n    }\n    return new BlendDescriptor(typeof blend.func.src === \"object\"\n        ? blend.func.src.rgb\n        : blend.func.src, typeof blend.func.src === \"object\"\n        ? blend.func.src.alpha\n        : blend.func.src, typeof blend.func.dst === \"object\"\n        ? blend.func.dst.rgb\n        : blend.func.dst, typeof blend.func.dst === \"object\"\n        ? blend.func.dst.alpha\n        : blend.func.dst, blend.equation\n        ? typeof blend.equation === \"object\"\n            ? blend.equation.rgb\n            : blend.equation\n        : BlendEquation.FUNC_ADD, blend.equation\n        ? typeof blend.equation === \"object\"\n            ? blend.equation.alpha\n            : blend.equation\n        : BlendEquation.FUNC_ADD, blend.color);\n}\n//# sourceMappingURL=command.js.map","import { Device } from \"./device\";\n/**\n * Possible data types of vertex buffers.\n */\nexport var VertexBufferType;\n(function (VertexBufferType) {\n    VertexBufferType[VertexBufferType[\"BYTE\"] = 5120] = \"BYTE\";\n    VertexBufferType[VertexBufferType[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n    VertexBufferType[VertexBufferType[\"SHORT\"] = 5122] = \"SHORT\";\n    VertexBufferType[VertexBufferType[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n    VertexBufferType[VertexBufferType[\"INT\"] = 5124] = \"INT\";\n    VertexBufferType[VertexBufferType[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n    VertexBufferType[VertexBufferType[\"FLOAT\"] = 5126] = \"FLOAT\";\n})(VertexBufferType || (VertexBufferType = {}));\n/**\n * Vertex buffers contain GPU accessible data. Accessing them is usually done\n * via setting up an attribute that reads the buffer.\n */\nexport class VertexBuffer {\n    constructor(gl, type, data) {\n        this.gl = gl;\n        this.type = type;\n        this.data = data;\n        this.glBuffer = null;\n        this.init();\n    }\n    /**\n     * Create a new vertex buffer from bytes.\n     */\n    static fromInt8Array(dev, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new VertexBuffer(gl, VertexBufferType.BYTE, data instanceof Int8Array ? data : new Int8Array(data));\n    }\n    /**\n     * Create a new vertex buffer from short ints.\n     */\n    static fromInt16Array(dev, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new VertexBuffer(gl, VertexBufferType.SHORT, data instanceof Int16Array ? data : new Int16Array(data));\n    }\n    /**\n     * Create a new vertex buffer from ints.\n     */\n    static fromInt32Array(dev, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new VertexBuffer(gl, VertexBufferType.INT, data instanceof Int32Array ? data : new Int32Array(data));\n    }\n    /**\n     * Create a new vertex buffer from unsigned bytes.\n     */\n    static fromUint8Array(dev, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new VertexBuffer(gl, VertexBufferType.UNSIGNED_BYTE, \n        // Note: we also have to convert Uint8ClampedArray to Uint8Array\n        // because of webgl bug\n        // https://github.com/KhronosGroup/WebGL/issues/1533\n        data instanceof Uint8Array ? data : new Uint8Array(data));\n    }\n    /**\n     * Create a new vertex buffer from unsigned short ints.\n     */\n    static fromUint16Array(dev, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new VertexBuffer(gl, VertexBufferType.UNSIGNED_SHORT, data instanceof Uint16Array ? data : new Uint16Array(data));\n    }\n    /**\n     * Create a new vertex buffer from unsigned ints.\n     */\n    static fromUint32Array(dev, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new VertexBuffer(gl, VertexBufferType.UNSIGNED_INT, data instanceof Uint32Array ? data : new Uint32Array(data));\n    }\n    /**\n     * Create a new vertex buffer from floats.\n     */\n    static fromFloat32Array(dev, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new VertexBuffer(gl, VertexBufferType.FLOAT, data instanceof Float32Array ? data : new Float32Array(data));\n    }\n    get count() {\n        return this.data.length;\n    }\n    /**\n     * Force buffer reinitialization.\n     */\n    init() {\n        const { gl, data } = this;\n        const buffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        this.glBuffer = buffer;\n    }\n    /**\n     * Reinitialize invalid buffer, eg. after context is lost.\n     */\n    restore() {\n        const { gl, glBuffer } = this;\n        if (!gl.isBuffer(glBuffer)) {\n            this.init();\n        }\n    }\n}\n//# sourceMappingURL=vertex-buffer.js.map","/**\n * Chacks whether array is at least 2d, mostly useful because of return type\n * predicate.\n */\nexport function isArray2(array) {\n    return !!array.length && Array.isArray(array[0]);\n}\nexport function shape2(array) {\n    const outer = array.length;\n    const inner = outer ? array[0].length : 0;\n    return [outer, inner];\n}\nexport function ravel2(unraveled, shape) {\n    const [outer, inner] = shape;\n    const raveled = new Array(inner * outer);\n    unraveled.forEach((arr, i) => {\n        arr.forEach((elem, j) => {\n            raveled[inner * i + j] = elem;\n        });\n    });\n    return raveled;\n}\n//# sourceMappingURL=array.js.map","import * as assert from \"./assert\";\nimport * as array from \"./array\";\nimport { Device } from \"./device\";\n/**\n * Possible data types of element buffers.\n */\nexport var ElementBufferType;\n(function (ElementBufferType) {\n    // Should we enable this?\n    // UNSIGNED_BYTE = 0x1401,\n    ElementBufferType[ElementBufferType[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n    ElementBufferType[ElementBufferType[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n})(ElementBufferType || (ElementBufferType = {}));\n/**\n * WebGL drawing primitives.\n */\nexport var Primitive;\n(function (Primitive) {\n    Primitive[Primitive[\"POINTS\"] = 0] = \"POINTS\";\n    Primitive[Primitive[\"LINES\"] = 1] = \"LINES\";\n    Primitive[Primitive[\"LINE_LOOP\"] = 2] = \"LINE_LOOP\";\n    Primitive[Primitive[\"LINE_STRIP\"] = 3] = \"LINE_STRIP\";\n    Primitive[Primitive[\"TRIANGLES\"] = 4] = \"TRIANGLES\";\n    Primitive[Primitive[\"TRIANGLE_STRIP\"] = 5] = \"TRIANGLE_STRIP\";\n    Primitive[Primitive[\"TRIANGLE_FAN\"] = 6] = \"TRIANGLE_FAN\";\n})(Primitive || (Primitive = {}));\n/**\n * Element buffers contain indices for accessing vertex buffer data. They are,\n * together with vertex buffers part of VertexArray objects.\n */\nexport class ElementBuffer {\n    constructor(gl, data, type, primitive) {\n        this.gl = gl;\n        this.data = data;\n        this.type = type;\n        this.primitive = primitive;\n        this.glBuffer = null;\n        this.init();\n    }\n    /**\n     * Creates a new element buffer from plain javascript array. Tries to infer\n     * Primitive from the array's shape:\n     *   number[] -> POINTS\n     *   [number, number][] -> LINES\n     *   [number, number, number][] -> TRIANGLES\n     * To select other drawing Primitives, use fromTypedArray family of methods.\n     */\n    static fromArray(dev, data) {\n        if (array.isArray2(data)) {\n            const shape = array.shape2(data);\n            assert.range(shape[1], 2, 3, \"element tuple length\");\n            const ravel = array.ravel2(data, shape);\n            const primitive = shape[1] === 3\n                ? Primitive.TRIANGLES\n                : Primitive.LINES;\n            return ElementBuffer.fromUint32Array(dev, primitive, ravel);\n        }\n        return ElementBuffer.fromUint32Array(dev, Primitive.POINTS, data);\n    }\n    /**\n     * Create a new element buffer from unsigned short ints.\n     */\n    static fromUint16Array(dev, primitive, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        const arr = Array.isArray(data) ? new Uint16Array(data) : data;\n        return new ElementBuffer(gl, arr, ElementBufferType.UNSIGNED_SHORT, primitive);\n    }\n    /**\n     * Create a new element buffer from unsigned ints.\n     */\n    static fromUint32Array(dev, primitive, data) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        const arr = Array.isArray(data) ? new Uint32Array(data) : data;\n        return new ElementBuffer(gl, arr, ElementBufferType.UNSIGNED_INT, primitive);\n    }\n    get count() {\n        return this.data.length;\n    }\n    /**\n     * Force buffer reinitialization.\n     */\n    init() {\n        const { gl, data } = this;\n        const buffer = gl.createBuffer();\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        this.glBuffer = buffer;\n    }\n    /**\n     * Reinitialize invalid buffer, eg. after context is lost.\n     */\n    restore() {\n        const { gl, glBuffer } = this;\n        if (!gl.isBuffer(glBuffer)) {\n            this.init();\n        }\n    }\n}\n//# sourceMappingURL=element-buffer.js.map","import * as assert from \"./assert\";\nimport * as array from \"./array\";\nimport { VertexBuffer } from \"./vertex-buffer\";\nimport { ElementBuffer, } from \"./element-buffer\";\nconst INT_PATTERN = /^0|[1-9]\\d*$/;\n/**\n * Attribute type for reading vertex buffers. POINTER provides normalization\n * options for converting integer values to floats. IPOINTER always converts\n * to data integers types.\n */\nexport var AttributeType;\n(function (AttributeType) {\n    AttributeType[\"POINTER\"] = \"pointer\";\n    AttributeType[\"IPOINTER\"] = \"ipointer\";\n})(AttributeType || (AttributeType = {}));\n/**\n * Vertex array objects store store vertex buffers, an index buffer,\n * and attributes with the vertex format for provided vertex buffers.\n */\nexport class AttributeData {\n    /**\n     * Create a new vertex array with attribute and element definitions.\n     * `attributes` can either reference an existing vertex buffer, or have\n     * enough information to create a vertex buffer.\n     * `elements` can either reference an existing element buffer, or be the\n     * arguments for `ElementBuffer.create()`\n     */\n    static create(dev, primitive, attributes) {\n        const gl = dev.gl;\n        const attrs = Object.entries(attributes)\n            .map(([locationStr, definition]) => {\n            if (!INT_PATTERN.test(locationStr)) {\n                throw new Error(\"Location not a number. Use Command#locate\");\n            }\n            const location = parseInt(locationStr, 10);\n            return AttributeDescriptor.create(gl, location, definition);\n        });\n        const count = attrs.length\n            ? attrs\n                .map(attr => attr.count)\n                .reduce((min, curr) => Math.min(min, curr))\n            : 0;\n        const instAttrs = attrs.filter(attr => !!attr.divisor);\n        const instanceCount = instAttrs.length\n            ? instAttrs\n                .map(attr => attr.count * attr.divisor)\n                .reduce((min, curr) => Math.min(min, curr))\n            : 0;\n        return new AttributeData(gl, primitive, attrs, count, instanceCount);\n    }\n    static fromElements(dev, elements, attributes) {\n        const gl = dev.gl;\n        const attrs = Object.entries(attributes)\n            .map(([locationStr, definition]) => {\n            if (!INT_PATTERN.test(locationStr)) {\n                throw new Error(\"Location not a number. Use Command#locate\");\n            }\n            const location = parseInt(locationStr, 10);\n            return AttributeDescriptor.create(gl, location, definition);\n        });\n        const elementBuffer = elements && (elements instanceof ElementBuffer\n            ? elements\n            : ElementBuffer.fromArray(gl, elements));\n        const count = elementBuffer\n            ? elementBuffer.count\n            : attrs.length\n                ? attrs\n                    .map(attr => attr.count)\n                    .reduce((min, curr) => Math.min(min, curr))\n                : 0;\n        const instAttrs = attrs.filter(attr => !!attr.divisor);\n        const instanceCount = instAttrs.length\n            ? instAttrs\n                .map(attr => attr.count * attr.divisor)\n                .reduce((min, curr) => Math.min(min, curr))\n            : 0;\n        return new AttributeData(gl, elementBuffer.primitive, attrs, count, instanceCount, elementBuffer);\n    }\n    static empty(dev, primitive, count) {\n        const gl = dev.gl;\n        return new AttributeData(gl, primitive, [], count, 0);\n    }\n    constructor(gl, primitive, attributes, count, instanceCount, elements) {\n        this.gl = gl;\n        this.primitive = primitive;\n        this.elementBuffer = elements;\n        this.attributes = attributes;\n        this.count = count;\n        this.elementCount = elements ? elements.count : 0;\n        this.instanceCount = instanceCount;\n        this.glVertexArray = null;\n        this.init();\n    }\n    get elements() {\n        return !!this.elementBuffer;\n    }\n    get elementType() {\n        return this.elementBuffer && this.elementBuffer.type;\n    }\n    /**\n     * Force vertex array reinitialization.\n     */\n    init() {\n        // Do not create the gl vao if there are no buffers to bind\n        if (this.isEmpty()) {\n            return;\n        }\n        const { gl, attributes, elementBuffer } = this;\n        const vao = gl.createVertexArray();\n        gl.bindVertexArray(vao);\n        attributes.forEach(({ location, type, buffer: { glBuffer, type: glBufferType }, size, normalized = false, divisor, }) => {\n            // Enable sending attribute arrays for location\n            gl.enableVertexAttribArray(location);\n            // Send buffer\n            gl.bindBuffer(gl.ARRAY_BUFFER, glBuffer);\n            switch (type) {\n                case AttributeType.POINTER:\n                    gl.vertexAttribPointer(location, size, glBufferType, normalized, 0, 0);\n                    break;\n                case AttributeType.IPOINTER:\n                    gl.vertexAttribIPointer(location, size, glBufferType, 0, 0);\n                    break;\n                default: assert.never(type);\n            }\n            if (divisor) {\n                gl.vertexAttribDivisor(location, divisor);\n            }\n        });\n        if (elementBuffer) {\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer.glBuffer);\n        }\n        gl.bindVertexArray(null);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        if (elementBuffer) {\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        }\n        this.glVertexArray = vao;\n    }\n    /**\n     * Reinitialize invalid vertex array, eg. after context is lost. Also tries\n     * to reinitialize vertex buffer and element buffer dependencies.\n     */\n    restore() {\n        const { gl, glVertexArray, attributes, elementBuffer } = this;\n        if (elementBuffer) {\n            elementBuffer.restore();\n        }\n        attributes.forEach(attr => attr.buffer.restore());\n        // If we have no attributes nor elements, there is no need to restore\n        // any GPU state\n        if (!this.isEmpty() && !gl.isVertexArray(glVertexArray)) {\n            this.init();\n        }\n    }\n    isEmpty() {\n        // IF we have either attributes or elements, this geometry can not\n        // longer be considered empty.\n        return !this.elementBuffer && !this.attributes.length;\n    }\n}\n// TODO: this could use some further refactoring. Currently its just former\n// public API made private.\nclass AttributeDescriptor {\n    constructor(location, type, buffer, count, size, normalized, divisor) {\n        this.location = location;\n        this.type = type;\n        this.buffer = buffer;\n        this.count = count;\n        this.size = size;\n        this.normalized = normalized;\n        this.divisor = divisor;\n    }\n    static create(gl, location, props) {\n        if (Array.isArray(props)) {\n            if (array.isArray2(props)) {\n                const s = array.shape2(props);\n                const r = array.ravel2(props, s);\n                return new AttributeDescriptor(location, AttributeType.POINTER, VertexBuffer.fromFloat32Array(gl, r), s[0], s[1], false, 0);\n            }\n            return new AttributeDescriptor(location, AttributeType.POINTER, VertexBuffer.fromFloat32Array(gl, props), props.length, 1, false, 0);\n        }\n        return new AttributeDescriptor(location, props.type, props.buffer, props.count, props.size, props.type === AttributeType.POINTER\n            ? (props.normalized || false)\n            : false, props.divisor || 0);\n    }\n}\n//# sourceMappingURL=attribute-data.js.map","import { Device } from \"./device\";\nexport var TextureWrap;\n(function (TextureWrap) {\n    TextureWrap[TextureWrap[\"CLAMP_TO_EDGE\"] = 33071] = \"CLAMP_TO_EDGE\";\n    TextureWrap[TextureWrap[\"REPEAT\"] = 10497] = \"REPEAT\";\n    TextureWrap[TextureWrap[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n})(TextureWrap || (TextureWrap = {}));\nexport var TextureFilter;\n(function (TextureFilter) {\n    TextureFilter[TextureFilter[\"NEAREST\"] = 9728] = \"NEAREST\";\n    TextureFilter[TextureFilter[\"LINEAR\"] = 9729] = \"LINEAR\";\n    TextureFilter[TextureFilter[\"NEAREST_MIPMAP_NEAREST\"] = 9984] = \"NEAREST_MIPMAP_NEAREST\";\n    TextureFilter[TextureFilter[\"LINEAR_MIPMAP_NEAREST\"] = 9985] = \"LINEAR_MIPMAP_NEAREST\";\n    TextureFilter[TextureFilter[\"NEAREST_MIPMAP_LINEAR\"] = 9986] = \"NEAREST_MIPMAP_LINEAR\";\n    TextureFilter[TextureFilter[\"LINEAR_MIPMAP_LINEAR\"] = 9987] = \"LINEAR_MIPMAP_LINEAR\";\n})(TextureFilter || (TextureFilter = {}));\nexport var TextureInternalFormat;\n(function (TextureInternalFormat) {\n    // RED\n    TextureInternalFormat[TextureInternalFormat[\"R8\"] = 33321] = \"R8\";\n    TextureInternalFormat[TextureInternalFormat[\"R8_SNORM\"] = 36756] = \"R8_SNORM\";\n    TextureInternalFormat[TextureInternalFormat[\"R8UI\"] = 33330] = \"R8UI\";\n    TextureInternalFormat[TextureInternalFormat[\"R8I\"] = 33329] = \"R8I\";\n    TextureInternalFormat[TextureInternalFormat[\"R16UI\"] = 33332] = \"R16UI\";\n    TextureInternalFormat[TextureInternalFormat[\"R16I\"] = 33331] = \"R16I\";\n    TextureInternalFormat[TextureInternalFormat[\"R32UI\"] = 33334] = \"R32UI\";\n    TextureInternalFormat[TextureInternalFormat[\"R32I\"] = 33333] = \"R32I\";\n    TextureInternalFormat[TextureInternalFormat[\"R16F\"] = 33325] = \"R16F\";\n    TextureInternalFormat[TextureInternalFormat[\"R32F\"] = 33326] = \"R32F\";\n    // RG\n    TextureInternalFormat[TextureInternalFormat[\"RG8\"] = 33323] = \"RG8\";\n    TextureInternalFormat[TextureInternalFormat[\"RG8_SNORM\"] = 36757] = \"RG8_SNORM\";\n    TextureInternalFormat[TextureInternalFormat[\"RG8UI\"] = 33336] = \"RG8UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RG8I\"] = 33335] = \"RG8I\";\n    TextureInternalFormat[TextureInternalFormat[\"RG16UI\"] = 33338] = \"RG16UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RG16I\"] = 33337] = \"RG16I\";\n    TextureInternalFormat[TextureInternalFormat[\"RG32UI\"] = 33340] = \"RG32UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RG32I\"] = 33339] = \"RG32I\";\n    TextureInternalFormat[TextureInternalFormat[\"RG16F\"] = 33327] = \"RG16F\";\n    TextureInternalFormat[TextureInternalFormat[\"RG32F\"] = 33328] = \"RG32F\";\n    // RGB\n    TextureInternalFormat[TextureInternalFormat[\"RGB8\"] = 32849] = \"RGB8\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB8_SNORM\"] = 36758] = \"RGB8_SNORM\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB8UI\"] = 36221] = \"RGB8UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB8I\"] = 36239] = \"RGB8I\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB16UI\"] = 36215] = \"RGB16UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB16I\"] = 36233] = \"RGB16I\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB32UI\"] = 36209] = \"RGB32UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB32I\"] = 36227] = \"RGB32I\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB16F\"] = 34843] = \"RGB16F\";\n    TextureInternalFormat[TextureInternalFormat[\"RGB32F\"] = 34837] = \"RGB32F\";\n    // RGBA\n    TextureInternalFormat[TextureInternalFormat[\"RGBA8\"] = 32856] = \"RGBA8\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA8_SNORM\"] = 36759] = \"RGBA8_SNORM\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA8UI\"] = 36220] = \"RGBA8UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA8I\"] = 36238] = \"RGBA8I\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA16UI\"] = 36214] = \"RGBA16UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA16I\"] = 36232] = \"RGBA16I\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA32UI\"] = 36208] = \"RGBA32UI\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA32I\"] = 36226] = \"RGBA32I\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA16F\"] = 34842] = \"RGBA16F\";\n    TextureInternalFormat[TextureInternalFormat[\"RGBA32F\"] = 34836] = \"RGBA32F\";\n    // TODO: support exotic formats\n    // DEPTH\n    TextureInternalFormat[TextureInternalFormat[\"DEPTH_COMPONENT16\"] = 33189] = \"DEPTH_COMPONENT16\";\n    TextureInternalFormat[TextureInternalFormat[\"DEPTH_COMPONENT24\"] = 33190] = \"DEPTH_COMPONENT24\";\n    TextureInternalFormat[TextureInternalFormat[\"DEPTH_COMPONENT32F\"] = 36012] = \"DEPTH_COMPONENT32F\";\n    // DEPTH STENCIL\n    TextureInternalFormat[TextureInternalFormat[\"DEPTH24_STENCIL8\"] = 35056] = \"DEPTH24_STENCIL8\";\n    TextureInternalFormat[TextureInternalFormat[\"DEPTH32F_STENCIL8\"] = 36013] = \"DEPTH32F_STENCIL8\";\n    // ~LUMINANCE ALPHA\n    // LUMINANCE_ALPHA\n    // LUMINANCE\n    // ALPHA\n})(TextureInternalFormat || (TextureInternalFormat = {}));\nexport var TextureDataFormat;\n(function (TextureDataFormat) {\n    TextureDataFormat[TextureDataFormat[\"RED\"] = 6403] = \"RED\";\n    TextureDataFormat[TextureDataFormat[\"RG\"] = 33319] = \"RG\";\n    TextureDataFormat[TextureDataFormat[\"RGB\"] = 6407] = \"RGB\";\n    TextureDataFormat[TextureDataFormat[\"RGBA\"] = 6408] = \"RGBA\";\n    TextureDataFormat[TextureDataFormat[\"RED_INTEGER\"] = 36244] = \"RED_INTEGER\";\n    TextureDataFormat[TextureDataFormat[\"RG_INTEGER\"] = 33320] = \"RG_INTEGER\";\n    TextureDataFormat[TextureDataFormat[\"RGB_INTEGER\"] = 36248] = \"RGB_INTEGER\";\n    TextureDataFormat[TextureDataFormat[\"RGBA_INTEGER\"] = 36249] = \"RGBA_INTEGER\";\n    // TODO: support exotic formats\n    TextureDataFormat[TextureDataFormat[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n    TextureDataFormat[TextureDataFormat[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n    // LUMINANCE_ALPHA\n    // LUMINANCE\n    // ALPHA\n})(TextureDataFormat || (TextureDataFormat = {}));\nexport var TextureDataType;\n(function (TextureDataType) {\n    TextureDataType[TextureDataType[\"BYTE\"] = 5120] = \"BYTE\";\n    TextureDataType[TextureDataType[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n    TextureDataType[TextureDataType[\"SHORT\"] = 5122] = \"SHORT\";\n    TextureDataType[TextureDataType[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n    TextureDataType[TextureDataType[\"INT\"] = 5124] = \"INT\";\n    TextureDataType[TextureDataType[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n    TextureDataType[TextureDataType[\"FLOAT\"] = 5126] = \"FLOAT\";\n    TextureDataType[TextureDataType[\"HALF_FLOAT\"] = 5131] = \"HALF_FLOAT\";\n    // TODO: support exotic formats\n    // UNSIGNED_SHORT_4_4_4_4\n    // UNSIGNED_SHORT_5_5_5_1\n    // UNSIGNED_SHORT_5_6_5\n    TextureDataType[TextureDataType[\"UNSIGNED_INT_24_8\"] = 34042] = \"UNSIGNED_INT_24_8\";\n    // UNSIGNED_INT_5_9_9_9_REV\n    // UNSIGNED_INT_2_10_10_10_REV\n    // UNSIGNED_INT_10F_11F_11F_REV\n    TextureDataType[TextureDataType[\"FLOAT_32_UNSIGNED_INT_24_8_REV\"] = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\";\n})(TextureDataType || (TextureDataType = {}));\nexport class Texture {\n    constructor(gl, width, height, format, wrapS, wrapT, minFilter, magFilter) {\n        this.gl = gl;\n        this.width = width;\n        this.height = height;\n        this.format = format;\n        this.wrapS = wrapS;\n        this.wrapT = wrapT;\n        this.minFilter = minFilter;\n        this.magFilter = magFilter;\n        this.glTexture = null;\n        this.init();\n    }\n    static fromImage(dev, image, mipmap = false, options) {\n        return Texture.create(dev, image.width, image.height, TextureInternalFormat.RGBA8, image.data, TextureDataFormat.RGBA, TextureDataType.UNSIGNED_BYTE, mipmap, options);\n    }\n    static empty(dev, width, height, internalFormat, { min = TextureFilter.NEAREST, mag = TextureFilter.NEAREST, wrapS = TextureWrap.CLAMP_TO_EDGE, wrapT = TextureWrap.CLAMP_TO_EDGE, } = {}) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        return new Texture(gl, width, height, internalFormat, wrapS, wrapT, min, mag);\n    }\n    static create(dev, width, height, internalFormat, data, dataFormat, dataType, mipmap, { min = TextureFilter.NEAREST, mag = TextureFilter.NEAREST, wrapS = TextureWrap.CLAMP_TO_EDGE, wrapT = TextureWrap.CLAMP_TO_EDGE, } = {}) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        const tex = new Texture(gl, width, height, internalFormat, wrapS, wrapT, min, mag);\n        if (data) {\n            tex.store(data, dataFormat, dataType, mipmap);\n        }\n        return tex;\n    }\n    init() {\n        const { gl, width, height, format, wrapS, wrapT, minFilter, magFilter, } = this;\n        const texture = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texStorage2D(gl.TEXTURE_2D, 1, format, width, height);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        this.glTexture = texture;\n    }\n    restore() {\n        const { gl, glTexture } = this;\n        if (!gl.isTexture(glTexture)) {\n            this.init();\n        }\n    }\n    store(data, format, type, mipmap = false) {\n        const { gl, glTexture, width, height } = this;\n        gl.bindTexture(gl.TEXTURE_2D, glTexture);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, width, height, format, type, data);\n        if (mipmap) {\n            gl.generateMipmap(gl.TEXTURE_2D);\n        }\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n    mipmap() {\n        const { gl, glTexture } = this;\n        gl.bindTexture(gl.TEXTURE_2D, glTexture);\n        gl.generateMipmap(gl.TEXTURE_2D);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n}\n//# sourceMappingURL=texture.js.map","import * as assert from \"./assert\";\nimport { Device } from \"./device\";\nimport { Target } from \"./target\";\nexport class Framebuffer {\n    static fromColor(dev, width, height, color) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        const colors = Array.isArray(color) ? color : [color];\n        assert.nonEmpty(colors, \"color\");\n        colors.forEach(buffer => {\n            assert.equal(width, buffer.width, \"width\");\n            assert.equal(height, buffer.height, \"height\");\n        });\n        return new Framebuffer(gl, width, height, colors);\n    }\n    static fromDepth(dev, width, height, depth) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        assert.equal(width, depth.width, \"width\");\n        assert.equal(height, depth.height, \"height\");\n        return new Framebuffer(gl, width, height, [], depth, true);\n    }\n    static fromDepthStencil(dev, width, height, depthStencil) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        assert.equal(width, depthStencil.width, \"width\");\n        assert.equal(height, depthStencil.height, \"height\");\n        return new Framebuffer(gl, width, height, [], depthStencil, false);\n    }\n    static fromColorDepth(dev, width, height, color, depth) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        const colorBuffers = Array.isArray(color) ? color : [color];\n        assert.nonEmpty(colorBuffers, \"color\");\n        colorBuffers.forEach(buffer => {\n            assert.equal(width, buffer.width, \"width\");\n            assert.equal(height, buffer.height, \"height\");\n        });\n        assert.equal(width, depth.width, \"width\");\n        assert.equal(height, depth.height, \"height\");\n        return new Framebuffer(gl, width, height, colorBuffers, depth, true);\n    }\n    static fromColorDepthStencil(dev, width, height, color, depthStencil) {\n        const gl = dev instanceof Device ? dev.gl : dev;\n        const colors = Array.isArray(color) ? color : [color];\n        assert.nonEmpty(colors, \"color\");\n        colors.forEach(buffer => {\n            assert.equal(width, buffer.width, \"width\");\n            assert.equal(height, buffer.height, \"height\");\n        });\n        assert.equal(width, depthStencil.width, \"width\");\n        assert.equal(height, depthStencil.height, \"height\");\n        return new Framebuffer(gl, width, height, colors, depthStencil, false);\n    }\n    constructor(gl, width, height, colors, depthStencil, depthOnly = true) {\n        this.gl = gl;\n        this.width = width;\n        this.height = height;\n        this.colors = colors;\n        this.depthStencil = depthStencil;\n        this.depthOnly = depthOnly;\n        this.glColorAttachments = colors\n            .map((_, i) => gl.COLOR_ATTACHMENT0 + i);\n        this.glFramebuffer = null;\n        this.framebufferTarget = null;\n        this.init();\n    }\n    init() {\n        const { width, height, gl, glColorAttachments, colors, depthStencil, depthOnly, } = this;\n        const fbo = gl.createFramebuffer();\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n        colors.forEach((buffer, i) => {\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i, gl.TEXTURE_2D, buffer.glTexture, 0);\n        });\n        if (depthStencil) {\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, depthOnly ? gl.DEPTH_ATTACHMENT : gl.DEPTH_STENCIL_ATTACHMENT, gl.TEXTURE_2D, depthStencil, 0);\n        }\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        if (status !== gl.FRAMEBUFFER_COMPLETE) {\n            gl.deleteFramebuffer(fbo);\n            throw new Error(\"Framebuffer not complete\");\n        }\n        this.glFramebuffer = fbo;\n        if (fbo) {\n            this.framebufferTarget = new Target(gl, glColorAttachments, fbo, width, height);\n        }\n    }\n    restore() {\n        const { gl, glFramebuffer, colors, depthStencil, } = this;\n        colors.forEach(buffer => buffer.restore());\n        if (depthStencil) {\n            depthStencil.restore();\n        }\n        if (!gl.isFramebuffer(glFramebuffer)) {\n            this.init();\n        }\n    }\n    target(cb) {\n        if (this.framebufferTarget) {\n            this.framebufferTarget.with(cb);\n        }\n    }\n}\n//# sourceMappingURL=framebuffer.js.map"],"names":["assert.never","assert.nonNull","glutil.createShader","glutil.createProgram","array.isArray2","array.shape2","assert.range","array.ravel2","INT_PATTERN","assert.nonEmpty","assert.equal"],"mappings":"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"}